# - -------------------------------------------------------------------------------------------- - #
LIBS			:=	-lSDLmain -lSDL -lSDL_image \
					-lGL -lGLU \
# - -------------------------------------------------------------------------------------------- - #

# - -------------------------------------------------------------------------------------------- - #
# - Linking (Default Target) ------------------------------------------------------------------- - #
$(RELEASE_DIR)/$(BINARY_TARGET): $(ALL_DEPEND) $(.O_FILES)
	g++ $(LIB_DIRS) $(LINK_FLAGS) $(.O_FILES) $(LIBS) -o $(OBJ_DIR)/$(BINARY_TARGET)
	strip -s $(OBJ_DIR)/$(BINARY_TARGET) -o $@
# - -------------------------------------------------------------------------------------------- - #
final: $(RELEASE_DIR)/$(BINARY_TARGET)
	upx -9 $(RELEASE_DIR)/$(BINARY_TARGET)
# - -------------------------------------------------------------------------------------------- - #

# - -------------------------------------------------------------------------------------------- - #
# - Executing ---------------------------------------------------------------------------------- - #
run: $(RELEASE_DIR)/$(BINARY_TARGET)
	$(Run) $(RELEASE_DIR) ./$(BINARY_TARGET) $(CAPTURE_TARGET)
# - -------------------------------------------------------------------------------------------- - #

# - -------------------------------------------------------------------------------------------- - #
# - Compiling ---------------------------------------------------------------------------------- - #
# - -------------------------------------------------------------------------------------------- - #
$(OBJ_DIR)/%.cpp.o: %.cpp $(ALL_DEPEND)
	g++ $(INCLUDE_DIRS) $(CODE_FLAGS) -MMD -MF $@.d -c $< -o $@ 
# - -------------------------------------------------------------------------------------------- - #
$(OBJ_DIR)/%.c.o: %.c $(ALL_DEPEND)
	gcc $(INCLUDE_DIRS) $(CODE_FLAGS) -MMD -MF $@.d -c $< -o $@ 
# - -------------------------------------------------------------------------------------------- - #

# - -------------------------------------------------------------------------------------------- - #
# An attempt at making "update" update the D files "
# - -------------------------------------------------------------------------------------------- - #
# - - Dependencies Regeneration ---------------------------------------------------------------- - #
# - -------------------------------------------------------------------------------------------- - #
#%.cpp.d: %.c.o $(ALL_DEPEND) $(OUT_DIR)/makedees
#	g++ $(INCLUDE_DIRS) $(CODE_FLAGS) -MMD -E -MF $@ $< -o /dev/null	
# - -------------------------------------------------------------------------------------------- - #
#%.c.d: %.c.o $(ALL_DEPEND) $(OUT_DIR)/makedees
#	gcc $(INCLUDE_DIRS) $(CODE_FLAGS) -MMD -E -MF $@ $< -o /dev/null
# - -------------------------------------------------------------------------------------------- - #

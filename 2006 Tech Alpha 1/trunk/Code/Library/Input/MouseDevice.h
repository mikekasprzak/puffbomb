// - ------------------------------------------------------------------------------------------ - //
// MouseDevice //
// - ------------------------------------------------------------------------------------------ - //
#ifndef __Input_MouseDevice_H__
#define __Input_MouseDevice_H__
// - ------------------------------------------------------------------------------------------ - //

// - ------------------------------------------------------------------------------------------ - //
#include <sys/types.h>

#include "Button.h"
#include "Axis2D.h"
#include "Wheel.h"
// - ------------------------------------------------------------------------------------------ - //

namespace Input {

// - ------------------------------------------------------------------------------------------ - //
	class cMouseDevice: public Vector2D {
	private:
		Vector2D _Last;

	public:
		// - ---------------------------------------------------------------------------------- - //
		inline const Vector2D& Current() const {
			return *this;
		}
		// - ---------------------------------------------------------------------------------- - //
		inline const Vector2D& Last() const {
			return _Last;
		}
		// - ---------------------------------------------------------------------------------- - //
		inline const Vector2D Diff() const {
			return (_Last - *this);
		}
		// - ---------------------------------------------------------------------------------- - //

		// - ---------------------------------------------------------------------------------- - //
		inline operator const Vector2D& () {
			return Current();
		}
		// - ---------------------------------------------------------------------------------- - //

		// - ---------------------------------------------------------------------------------- - //
		inline void Reset() {
			Set( Vector2D::Zero );
			_Last = Vector2D::Zero;
		}
		// - ---------------------------------------------------------------------------------- - //		
		inline void Update( const Vector2D& NewState ) {
			_Last = *this;
			Set( NewState );
		}
		// - ---------------------------------------------------------------------------------- - //		
		
		
	public:
		// - ---------------------------------------------------------------------------------- - //
		cButton Button[MOUSE_BUTTON_COUNT];
		// - ---------------------------------------------------------------------------------- - //		
		inline size_t ButtonCount() {
			return sizeof( Button ) / sizeof( cButton );
		}
		// - ---------------------------------------------------------------------------------- - //		

		// - ---------------------------------------------------------------------------------- - //
		cWheel Wheel;
		// - ---------------------------------------------------------------------------------- - //
	};
// - ------------------------------------------------------------------------------------------ - //

};

// - ------------------------------------------------------------------------------------------ - //
#endif // __Input_MouseDevice_H__ //
// - ------------------------------------------------------------------------------------------ - //

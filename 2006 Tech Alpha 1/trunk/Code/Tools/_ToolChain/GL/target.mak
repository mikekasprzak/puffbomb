# - -------------------------------------------------------------------------------------------- - #
LIBS			:=	-Lmingw32/lib -lmingw32 -lSDLmain -lSDL -lSDL_image \
					-lkernel32 -luser32 -lgdi32 -lcomdlg32 -lole32 -ldinput \
					-lddraw -ldxguid -lwinmm -ldsound -lopengl32 -lglu32 \
					-mwindows
# - -------------------------------------------------------------------------------------------- - #

# - -------------------------------------------------------------------------------------------- - #
# - Linking (Default Target) ------------------------------------------------------------------- - #
$(RELEASE_DIR)/$(BINARY_TARGET): $(ALL_DEPEND) $(CONTENT) $(.O_FILES)
	g++ $(LIB_DIRS) $(LINK_FLAGS) $(.O_FILES) $(LIBS) -o $(OBJ_DIR)/$(BINARY_TARGET)
	strip -s $(OBJ_DIR)/$(BINARY_TARGET) -o $@
# - -------------------------------------------------------------------------------------------- - #
final: $(RELEASE_DIR)/$(BINARY_TARGET)
	upx -9 $(RELEASE_DIR)/$(BINARY_TARGET)
# - -------------------------------------------------------------------------------------------- - #

# - -------------------------------------------------------------------------------------------- - #
# - Executing ---------------------------------------------------------------------------------- - #
run: $(RELEASE_DIR)/$(BINARY_TARGET)
	$(Run) $(RELEASE_DIR) $(BINARY_TARGET) $(CAPTURE_TARGET)
# - -------------------------------------------------------------------------------------------- - #

# - -------------------------------------------------------------------------------------------- - #
# - Compiling ---------------------------------------------------------------------------------- - #
# - -------------------------------------------------------------------------------------------- - #
$(OBJ_DIR)/%.cpp.o: %.cpp $(ALL_DEPEND)
	g++ $(INCLUDE_DIRS) $(CODE_FLAGS) -MMD -MF $@.d -c $< -o $@ 
# - -------------------------------------------------------------------------------------------- - #
$(OBJ_DIR)/%.c.o: %.c $(ALL_DEPEND)
	gcc $(INCLUDE_DIRS) $(CODE_FLAGS) -MMD -MF $@.d -c $< -o $@ 
# - -------------------------------------------------------------------------------------------- - #
